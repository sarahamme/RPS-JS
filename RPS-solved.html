<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rock, Paper, Scissors Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Sunflower:300" rel="stylesheet">
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
    <script src="app.js"></script>
</head>


<body>
    <header>
        <h1>Rock Paper Scissors</h1>
    </header>
<div class="score-board">
    <div id= "user-label" class="badge">user</div>
    <div id= "computer-label" class="badge">computer</div>
    <span id="user-score">0</span>:<span id="computer-score">0</span>
</div>
    <div class="result"><p>Paper covers rock. You win!</p>
    <div class="choice" id="r">
        <img src="images/rock.jpg" alt="">
    </div>
    <div class="choice" id="p">
        <img src="images/paper.jpg" alt="">
    </div>
    <div class="choice" id="s">
        <img src="images/scissors.jpg " alt="">
    </div>
</div>
<p id="action-message">Make your move!</p>

<script>

let userScore = 0
let computerScore = 0;
let userScore_span = document.getElementById("user-score");
let computerScore_span = document.getElementById("computer-score");
var scoreBoard_div = document.querySelector(".score-board");
const result_div = document.querySelector(".result > p");
const rock_div = document.getElementById("r");
const paper_div = document.getElementById("p");
const scissors_div = document.getElementById("s");

function getcomputerChoice() {
    const choices = ['r', 'p', 's'];
    const randomNumber = (Math.floor(Math.random() * 3));
    return choices[randomNumber];
}
function convertToWord (letter){
    if (letter === "r") return "Rock";
    if (letter === "p") return "Paper";
    return "Scissors";
}

function win(userChoice, computerChoice){
    const smallUserWord = "user".fontsize(3).sub();
    const smallcompWord = "comp".fontsize(3).sub();
    const userChoice_div = document.getElementById(userChoice);
    userScore++;
    userScore_span.innerHTML = userScore;
    computerScore_span.innerHTML = computerScore;
    result_div.innerHTML = `${convertToWord(userChoice)}${smallUserWord} beats ${convertToWord(computerChoice)}${smallcompWord} You Won!`
    userChoice_div.classList.add('green-glow');
    setTimeout(() => userChoice_div.classList.remove('green-glow'), 300);
}

function lose(userChoice, computerChoice){
    const smallUserWord = "user".fontsize(3).sup();
    const smallcompWord = "comp".fontsize(3).sup();
    const userChoice_div = document.getElementById(userChoice);
    computerScore++;
    computerScore_span.innerHTML = computerScore;
    userScore_span.innerHTML = userScore; 
    result_div.innerHTML = `${convertToWord(userChoice)}${smallUserWord} loses to ${convertToWord(computerChoice)}${smallcompWord} You Lost!`
    userChoice_div.classList.add('red-glow');
    setTimeout(() => userChoice_div.classList.remove('red-glow'), 300);
}

function draw (userChoice, computerChoice){
    const smallUserWord = "user".fontsize(3).sub();
    const smallcompWord = "comp".fontsize(3).sub();
    result_div.innerHTML = `${convertToWord(userChoice)}${smallUserWord} equals ${convertToWord(computerChoice)}${smallcompWord} It's a draw!`
    userChoice_div.classList.add('gray-glow');
    setTimeout(() => userChoice_div.classList.remove('gray-glow'), 300);
}


function game(userChoice) {
    let computerChoice = getcomputerChoice();
    switch (userChoice + computerChoice) {
        case 'rs':
        case 'pr':
        case 'sp':
        win(userChoice, computerChoice);
        console.log("User Wins");
            break;
        case 'rp':
        case 'ps':
        case 'sr':
            lose(userChoice, computerChoice);
             console.log("User Loses");
            break;
        case "rr":
        case "pp":
        case "ss":
            draw(userChoice, computerChoice);
            console.log("It's a draw!");
        break;  
    }
}

function main(){
    rock_div.addEventListener('click', function () {
    game("r");
});
paper_div.addEventListener('click', function () {
    game("p");
});
scissors_div.addEventListener('click', function () {
    game("s");
})
};

main ();


</script>

</body>
</html>